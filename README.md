# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
>![img_2.png](img_2.png)
>![img.png](img.png)
>![img_1.png](img_1.png)
> ![img_3.png](img_3.png)
> ![img_4.png](img_4.png)
> ![img_6.png](img_6.png)



2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
>Протокол LLDP.  
>Пакет lldpd.  
>Команда lldpctl.  
3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
>`Технология называется VLAN (Virtual LAN).    
>Пакет в Ubuntu Linux - vlan    
>![img_7.png](img_7.png)
>![img_8.png](img_8.png)
 
4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.  
>Типы агрегации (объединения) интерфейсов в Linux  
mode=0 (balance-rr)  
Этот режим используется по-умолчанию, если в настройках не указано другое. balance-rr обеспечивает балансировку нагрузки и отказоустойчивость. В данном режиме пакеты отправляются "по кругу" от первого интерфейса к последнему и сначала. Если выходит из строя один из интерфейсов, пакеты отправляются на остальные оставшиеся.При подключении портов к разным коммутаторам, требует их настройки.
mode=1 (active-backup)  
При active-backup один интерфейс работает в активном режиме, остальные в ожидающем. Если активный падает, управление передается одному из ожидающих. Не требует поддержки данной функциональности от коммутатора.
mode=2 (balance-xor)  
Передача пакетов распределяется между объединенными интерфейсами по формуле ((MAC-адрес источника) XOR (MAC-адрес получателя)) % число интерфейсов. Один и тот же интерфейс работает с определённым получателем. Режим даёт балансировку нагрузки и отказоустойчивость.
mode=3 (broadcast)  
Происходит передача во все объединенные интерфейсы, обеспечивая отказоустойчивость.
mode=4 (802.3ad)  
Это динамическое объединение портов. В данном режиме можно получить значительное увеличение пропускной способности как входящего так и исходящего трафика, используя все объединенные интерфейсы. Требует поддержки режима от коммутатора, а так же (иногда) дополнительную настройку коммутатора.
mode=5 (balance-tlb)  
Адаптивная балансировка нагрузки. При balance-tlb входящий трафик получается только активным интерфейсом, исходящий - распределяется в зависимости от текущей загрузки каждого интерфейса. Обеспечивается отказоустойчивость и распределение нагрузки исходящего трафика. Не требует специальной поддержки коммутатора.
mode=6 (balance-alb)  
Адаптивная балансировка нагрузки (более совершенная). Обеспечивает балансировку нагрузки как исходящего (TLB, transmit load balancing), так и входящего трафика (для IPv4 через ARP). Не требует специальной поддержки коммутатором, но требует возможности изменять MAC-адрес устройства.  
> Файлы конфигурации сети для Ubuntu 20.10 находятся по пути /etc/netplan/имяфайла.yaml Если нам нужен bondidng:  
>![img_15.png](img_15.png)

5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
>![img_9.png](img_9.png)
>8 адресов = 6 для хостов, 1 адрес сети и 1 широковещательный адрес.  
> Сеть с маской /24 можно разбить на 32 подсети с маской /29
> Подсети будут такими: Network: 10.10.10.0/29 Network: 10.10.10.8/29
Network: 10.10.10.16/29 и т.д. до Network: 10.10.10.248/29
6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
Можно взять адреса из сети для CGNAT - 100.64.0.0/10.
>![img_13.png](img_13.png)
>Маска для диапазонов будет /26, она позволит подключить 62 хоста.
7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
>![img_10.png](img_10.png)
>В Linux есть утилита arp входящая в пакет net-tools. Посмотреть все таблицы:
> ![img_12.png](img_12.png)
> очистить ARP кеш  -  
> ip neigh flush all -linux  
> arp -d *  -windows
> 
>Удалить один IP:    
>Linux: ip neigh delete <IP> dev <INTERFACE>, arp -d <IP>  
>Windows: arp -d <IP>  
